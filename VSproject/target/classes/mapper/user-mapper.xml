<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org // DTD mapper 3.0 // en" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="mapper.user-mapper">
	<select id="UserAllData" resultType="user">
		SELECT u_seq,u_id,u_pw,u_name,u_email,u_date
		FROM USERS
	</select>
	
	<select id="UserInsertData" parameterType="user"> <!-- resultType="user" user객체로 쿼리 실행 결과값을 받고자 할 때 -->
	insert into users
	values(user_sequence1.NEXTVAL, #{u_id},#{u_pw},#{u_name},#{u_email},sysdate,null,null)
	</select>
	
	<select id="LoginAction"  resultType="user" >
		SELECT *
		FROM USERS
		WHERE u_id=#{u_id} and u_pw=#{u_pw}
	</select>
	
	<select id="FindID" resultType="user">
		SELECT u_id
		FROM USERS
		WHERE u_email=#{u_email}
	</select>
	
	<select id="FindPW" resultType="user">
		SELECT u_id
		FROM USERS
		WHERE u_id=#{u_id} and u_email=#{u_email}
	</select>
	
	<update id="ChangePW" >
		UPDATE USERS
		SET u_pw = #{u_pw}
		WHERE u_id = #{u_id}
	</update>
	
	<select id="MyPage" resultType="user">
		SELECT *
		FROM USERS
		WHERE u_id=#{u_id}
	</select>
	
	<select id="idCheck" resultType="user">
		SELECT u_id
		FROM USERS
		WHERE u_id = #{u_id}
	</select>
	
	<select id="nickCheck" resultType="user">
		SELECT u_name
		FROM USERS
		WHERE u_name = #{u_name}		
	</select>
	
	<update id="ChangeNick">
		UPDATE USERS
		SET u_name = #{u_name}
		WHERE u_id = #{u_id}
	</update>
	
</mapper>
